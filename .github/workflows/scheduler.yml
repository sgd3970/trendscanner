name: Auto Posting & Keyword Tasks

on:
  schedule:
    - cron: '0 0,12 * * *'     # ë§¤ì¼ 0ì‹œ, 12ì‹œ
    - cron: '*/30 * * * *'     # ë§¤ 30ë¶„ë§ˆë‹¤
  workflow_dispatch:

jobs:
  run-tasks:
    runs-on: ubuntu-latest

    steps:
      - name: ğŸ”„ í‚¤ì›Œë“œ ì‚­ì œ
        run: curl -X DELETE https://trend-scanner.com/api/keywords/delete-all

      - name: ğŸ”„ í‚¤ì›Œë“œ ìƒì„±
        run: curl -X POST https://trend-scanner.com/api/keywords/collect

      - name: ğŸ“ ìë™ í¬ìŠ¤íŒ…
        run: |
          curl -X POST https://trend-scanner.com/api/posts/auto-generate \
          -H "Content-Type: application/json" \
          -d '{"keywordCount": 1}'
